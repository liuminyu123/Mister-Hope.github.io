(window.webpackJsonp=window.webpackJsonp||[]).push([[286],{1220:function(t,e,n){"use strict";n.r(e);var a=n(1),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"界面动画的常见方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#界面动画的常见方式"}},[t._v("#")]),t._v(" 界面动画的常见方式")]),t._v(" "),n("p",[t._v("在小程序中，通常可以使用 "),n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSS 渐变"),n("OutboundLink")],1),t._v(" 和 "),n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Animations/Using_CSS_animations",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSS 动画"),n("OutboundLink")],1),t._v(" 来创建简易的界面动画。(这也是 Mr.Hope 主要使用的动画方式)")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://developers.weixin.qq.com/s/oHKxDPm47h5k",target:"_blank",rel:"noopener noreferrer"}},[t._v("在开发者工具中预览效果"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("同时，还可以使用 "),n("code",[t._v("wx.createAnimation")]),t._v(" 接口来动态创建简易的动画效果。")]),t._v(" "),n("p",[t._v("动画过程中，可以使用 "),n("code",[t._v("bindtransitionend")]),t._v(" "),n("code",[t._v("bindanimationstart")]),t._v(" "),n("code",[t._v("bindanimationiteration")]),t._v(" "),n("code",[t._v("bindanimationend")]),t._v(" 来监听动画事件。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("事件名")]),t._v(" "),n("th",[t._v("含义")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("transitionend")]),t._v(" "),n("td",[t._v("CSS 渐变结束或 wx.createAnimation 结束一个阶段")])]),t._v(" "),n("tr",[n("td",[t._v("animationstart")]),t._v(" "),n("td",[t._v("CSS 动画开始")])]),t._v(" "),n("tr",[n("td",[t._v("animationiteration")]),t._v(" "),n("td",[t._v("CSS 动画结束一个阶段")])]),t._v(" "),n("tr",[n("td",[t._v("animationend")]),t._v(" "),n("td",[t._v("CSS 动画结束")])])])]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),n("p",[t._v("这几个事件都不是冒泡事件，需要绑定在真正发生了动画的节点上才会生效。")]),t._v(" "),n("p",[t._v("Mr.Hope 强烈建议优先使用 "),n("strong",[t._v("CSS 动画")]),t._v("。只有 "),n("strong",[t._v("CSS 动画")]),t._v(" 无法满足要求时，才应该考虑 "),n("code",[t._v("wx.createAnimation")]),t._v("。")])]),t._v(" "),n("h2",{attrs:{id:"高级的动画方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#高级的动画方式"}},[t._v("#")]),t._v(" 高级的动画方式 "),n("MyBadge",{attrs:{text:"初学者无需掌握",type:"warning"}})],1),t._v(" "),n("p",[t._v("在一些复杂场景下，上述的动画方法可能并不适用。所以这个时候就需要一些高级的动画方式。")]),t._v(" "),n("p",[t._v("WXS 响应事件 的方式可以通过使用 WXS 来响应事件的方法来动态调整节点的 style 属性。通过不断改变 style 属性的值可以做到动画效果。同时，这种方式也可以根据用户的触摸事件来动态地生成动画。")]),t._v(" "),n("p",[t._v("连续使用 setData 来改变界面的方法也可以达到动画的效果。这样可以任意地改变界面，但通常会产生较大的延迟或卡顿，甚至导致小程序僵死。此时可以通过将页面的 setData 改为 自定义组件 中的 setData 来提升性能。下面的例子是使用 setData 来实现秒表动画的示例。")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://developers.weixin.qq.com/s/cRTvdPmO7d5T",target:"_blank",rel:"noopener noreferrer"}},[t._v("在开发者工具中预览效果"),n("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=r.exports}}]);